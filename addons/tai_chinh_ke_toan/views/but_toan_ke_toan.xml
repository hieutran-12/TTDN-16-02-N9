<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Tree view -->
    <record id="view_but_toan_ke_toan_tree" model="ir.ui.view">
        <field name="name">but.toan.ke.toan.tree</field>
        <field name="model">but_toan_ke_toan</field>
        <field name="arch" type="xml">
            <tree string="BÃºt toÃ¡n káº¿ toÃ¡n" decoration-success="state=='da_ghi_so'" decoration-muted="state=='nhap'">
                <field name="name"/>
                <field name="ngay_but_toan"/>
                <field name="dien_giai"/>
                <field name="loai_but_toan"/>
                <field name="tong_tien_no"/>
                <field name="tong_tien_co"/>
                <field name="state"/>
            </tree>
        </field>
    </record>
    
    <!-- Form view -->
    <record id="view_but_toan_ke_toan_form" model="ir.ui.view">
        <field name="name">but.toan.ke.toan.form</field>
        <field name="model">but_toan_ke_toan</field>
        <field name="arch" type="xml">
            <form string="BÃºt toÃ¡n káº¿ toÃ¡n">
                <header>
                    <button name="action_ghi_so" string="Ghi sá»•" type="object" 
                            states="nhap" class="oe_highlight"/>
                    <button name="action_huy_ghi_so" string="Há»§y ghi sá»•" type="object" 
                            states="da_ghi_so"/>
                    <field name="state" widget="statusbar" statusbar_visible="nhap,da_ghi_so"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="name" readonly="1"/>
                            <field name="ngay_but_toan" attrs="{'readonly': [('state', '=', 'da_ghi_so')]}"/>
                            <field name="loai_but_toan" attrs="{'readonly': [('state', '=', 'da_ghi_so')]}"/>
                            <field name="nguoi_tao_id" readonly="1"/>
                        </group>
                        <group>
                            <field name="tong_tien_no" widget="monetary" readonly="1" string="ðŸ’° Tá»•ng Ná»£"/>
                            <field name="tong_tien_co" widget="monetary" readonly="1" string="ðŸ’° Tá»•ng CÃ³"/>
                            <field name="currency_id" invisible="1"/>
                        </group>
                    </group>
                    <group>
                        <field name="dien_giai" nolabel="1" attrs="{'readonly': [('state', '=', 'da_ghi_so')]}" placeholder="Nháº­p diá»…n giáº£i..."/>
                    </group>
                    <separator string="ðŸ“‹ CHI TIáº¾T Bá»¤T TOÃN" colspan="2"/>
                    <field name="chi_tiet_ids" attrs="{'readonly': [('state', '=', 'da_ghi_so')]}" nolabel="1">
                        <tree editable="bottom" string="Chi tiáº¿t BÃºt toÃ¡n">
                            <field name="tai_khoan_id" required="1"/>
                            <field name="dien_giai" width="20%"/>
                            <field name="tien_no" sum="Tá»•ng Ná»£" widget="monetary"/>
                            <field name="tien_co" sum="Tá»•ng CÃ³" widget="monetary"/>
                            <field name="doi_tac_id" width="15%"/>
                            <field name="currency_id" invisible="1"/>
                        </tree>
                    </field>
                    <notebook>
                        <page string="ThÃ´ng tin bá»• sung">
                            <group>
                                <field name="chung_tu_lien_quan" readonly="1"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    
    <!-- Search view -->
    <record id="view_but_toan_ke_toan_search" model="ir.ui.view">
        <field name="name">but.toan.ke.toan.search</field>
        <field name="model">but_toan_ke_toan</field>
        <field name="arch" type="xml">
            <search string="TÃ¬m kiáº¿m bÃºt toÃ¡n">
                <field name="name"/>
                <field name="ngay_but_toan"/>
                <field name="dien_giai"/>
                <field name="loai_but_toan"/>
                <filter string="NhÃ¡p" name="filter_nhap" domain="[('state', '=', 'nhap')]"/>
                <filter string="ÄÃ£ ghi sá»•" name="filter_da_ghi_so" domain="[('state', '=', 'da_ghi_so')]"/>
                <separator/>
                <filter string="ThÃ¡ng nÃ y" name="filter_thang_nay" 
                        domain="[('ngay_but_toan', '&gt;=', (context_today() - relativedelta(day=1)).strftime('%Y-%m-%d'))]"/>
                <group expand="0" string="Group By">
                    <filter string="Loáº¡i bÃºt toÃ¡n" name="group_loai" context="{'group_by':'loai_but_toan'}"/>
                    <filter string="Tráº¡ng thÃ¡i" name="group_state" context="{'group_by':'state'}"/>
                    <filter string="NgÃ y" name="group_ngay" context="{'group_by':'ngay_but_toan'}"/>
                </group>
            </search>
        </field>
    </record>
</odoo>